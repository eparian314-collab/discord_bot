{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TranslationResult",
  "type": "object",
  "required": [ "text", "src", "tgt", "provider", "confidence", "meta" ],
  "properties": {
    "text": {
      "type": [ "string", "null" ],
      "description": "Translated string, or null if translation failed"
    },
    "src": {
      "type": "string",
      "description": "Detected source language code (two-letter where possible)"
    },
    "tgt": {
      "type": "string",
      "description": "Target language code requested"
    },
    "provider": {
      "type": [ "string", "null" ],
      "enum": [ "deepl", "mymemory", null ],
      "description": "Provider used or null if none succeeded"
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Detection confidence (0.0 - 1.0)"
    },
    "meta": {
      "type": "object",
      "description": "Extra metadata (errors, timings, provider_info)",
      "properties": {
        "error": { "type": [ "string", "null" ] },
        "timings": {
          "type": "object",
          "additionalProperties": { "type": "number" },
          "description": "Provider/phase timing in seconds"
        },
        "provider_info": {
          "type": "object",
          "description": "Provider-specific metadata (rate limit, model id, etc.)",
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
